/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var g=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var k=Object.prototype.hasOwnProperty;var v=(c,l)=>{for(var e in l)g(c,e,{get:l[e],enumerable:!0})},y=(c,l,e,i)=>{if(l&&typeof l=="object"||typeof l=="function")for(let a of w(l))!k.call(c,a)&&a!==e&&g(c,a,{get:()=>l[a],enumerable:!(i=b(l,a))||i.enumerable});return c};var f=c=>y(g({},"__esModule",{value:!0}),c);var B={};v(B,{default:()=>u});module.exports=f(B);var n=require("obsidian"),S={bookmarks:[]},u=class extends n.Plugin{async onload(){await this.loadSettings(),this.addSettingTab(new h(this.app,this)),this.setupBookmarks()}setupBookmarks(){this.clearBookmarks(),this.settings.bookmarks.forEach((e,i)=>{let a=e.lucide||"bookmark";e.command&&this.addCommand({id:`open-webviewer-bookmark-${i}`,name:`Open Web viewer Bookmark: ${this.getDisplayName(e)}`,icon:a,callback:()=>{this.openBookmark(e)}}),e.ribbon&&this.addRibbonIcon(a,`Open ${this.getDisplayName(e)}`,t=>{let r=t.button===1;this.openBookmark(e,r?"new":void 0)})})}clearBookmarks(){}getDisplayName(e){if(e.title!==""&&e.title!==void 0)return e.title;try{return new URL(e.url).hostname}catch(i){return e.url}}openBookmark(e,i){let a=i||e.openMode,t=e.url,r=/{{\s*selection\s*}}/g;if(r.test(t)){let s=this.getSelectionFromWebViewer(),m=s&&s.trim()!==""?encodeURIComponent(s.trim()):"";t=t.replace(r,m)}if(a==="browser"){window.open(t,"_blank");return}let p=this.app.internalPlugins.getPluginById("webviewer");if(!p||!p.enabled){new n.Notice("Web viewer plugin is not enabled"),console.error("Web viewer plugin is not enabled");return}let o=a==="new";this.app.internalPlugins.getEnabledPluginById("webviewer").openUrl(t,o)}getSelectionFromWebViewer(){try{let e=this.app.workspace.getActiveViewOfType(n.MarkdownView);return e&&e.editor?e.editor.getSelection():void 0}catch(e){console.error("Error while attempting to retrieve selection via MarkdownView",e);return}}async loadSettings(){this.settings=Object.assign({},S,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}async reloadApp(){this.app.commands.executeCommandById("app:reload")}},h=class extends n.PluginSettingTab{constructor(e,i){super(e,i);this.plugin=i}display(){let{containerEl:e}=this;e.empty(),new n.Setting(e).setDesc("Manage your bookmarks for the Web viewer plugin").addButton(t=>{t.setButtonText("Add bookmark").setCta().onClick(()=>{this.plugin.settings.bookmarks.push({url:"https://",title:"",ribbon:!1,command:!0,openMode:"current",lucide:"bookmark"}),this.plugin.saveSettings(),this.display()})});let i=e.createEl("div",{cls:"setting-item-description"});i.createSpan({text:"For icons, enter Lucide icon names. Find all available icons at: "}),i.createEl("a",{text:"Lucide Icons",href:"https://lucide.dev/icons"}),i.createEl("p",{text:"Obsidian uses Lucide icons by default. Example icon names: bookmark, globe, link, heart, external-link"}),e.createEl("div",{cls:"setting-item-description"}).createEl("p",{text:"Tipp: You can use {{selection}} in the URL to insert the currently selected text."}),this.plugin.settings.bookmarks.forEach((t,r)=>{let d=e.createDiv({cls:"bookmark-container"}),p=d.createDiv({cls:"bookmark-header-div"});p.createEl("h3",{text:`Bookmark: ${this.plugin.getDisplayName(t)}`,cls:"bookmark-header"}),p.createEl("button",{cls:"mod-warning",text:"Remove"}).addEventListener("click",async o=>{this.plugin.settings.bookmarks.splice(r,1),await this.plugin.saveSettings(),this.display()}),new n.Setting(d).setName("URL").setDesc("The website address to open in Web viewer").addText(o=>{o.setPlaceholder("https://").setValue(t.url).onChange(async s=>{this.plugin.settings.bookmarks[r].url=s,await this.plugin.saveSettings()})}),new n.Setting(d).setName("Title (optional)").setDesc("This will be displayed for the command and on hover for the ribbon").addText(o=>{o.setPlaceholder("").setValue(t.title).onChange(async s=>{this.plugin.settings.bookmarks[r].title=s,await this.plugin.saveSettings()})}),new n.Setting(d).setName("Icon").setDesc("Lucide icon name to display in the ribbon").addText(o=>{o.setPlaceholder("bookmark").setValue(t.lucide).onChange(async s=>{this.plugin.settings.bookmarks[r].lucide=s,await this.plugin.saveSettings()})}),new n.Setting(d).setName("Show in ribbon").setDesc("Display this bookmark as an icon in the ribbon").addToggle(o=>{o.setValue(t.ribbon).onChange(async s=>{this.plugin.settings.bookmarks[r].ribbon=s,await this.plugin.saveSettings()})}),new n.Setting(d).setName("Create command").setDesc("Create a command to open this bookmark").addToggle(o=>{o.setValue(t.command).onChange(async s=>{this.plugin.settings.bookmarks[r].command=s,await this.plugin.saveSettings()})}),new n.Setting(d).setName("Open in").setDesc("Choose where to open this bookmark").addDropdown(o=>{o.addOption("current","Current tab").addOption("new","New tab").addOption("browser","Standard browser").setValue(t.openMode).onChange(async s=>{this.plugin.settings.bookmarks[r].openMode=s,await this.plugin.saveSettings()})})}),new n.Setting(e).setName("Reload app").setDesc("Reload Obsidian for changes to ribbons").addButton(t=>{t.setButtonText("Reload").setCta().onClick(()=>this.plugin.reloadApp())})}};

/* nosourcemap */